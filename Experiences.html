<html id="page">

<head>
    <link rel="stylesheet" href="Style.css" type="text/css">
</head>
<style>
{
    background-image: url("https://s3.amazonaws.com/weddingshoot/1-WALLPAPER.jpg");
    background-size: 100%;
}

.content {
    opacity: 0.7;
    background-color: white;
}

.content:first-letter {
    font-size: 7em;
    line-height: 1em;
}
</style>

<body>
    <h1>Experiences</h1>
    <hr />
    <div id="nav">
        <div class="sidebar"></div>
        <ul id="firstlist">
            <li><a href="https://index.html">Home</a></li>
            <li><a href="http://Experiences.html">Experiences</a></li>
            <li><a href="http://Assignments.html">DGMD Class Assignments</a></li>
        </ul>
    </div>
    <textarea id="textArea" style="width:800px; height:400px; position:relative; left:20%; opacity:0.4;">
    </textarea>
    <br>
    <button id="submit" type="submit" style="position:relative; left:75%;"> Submit
    </button>
   
    <script type="text/javascript">
    
   var ul = document.createElement("ul");
    document.body.appendChild(ul);

    var submit = document.getElementById("submit");
    var textArea = document.getElementById("textArea");

    

    submit.addEventListener("click", function() {
        var li = document.createElement('li');
        var note = Date.now() + ' ' + textArea.value
        li.innerText = note;
        if (localStorage.getItem('experiences')) {
            // get the list
            var myListString = localStorage.getItem('experiences');
            var myList = JSON.parse(myListString);

            // update the list
            myList.push(note);

            // put the list back
            var myNewListString = JSON.stringify(myList);
            localStorage.setItem('experiences', myNewListString);
        } else {
            var myFirstList = [note];
            var myFirstListString = JSON.stringify(myFirstList);
            localStorage.setItem('experiences', myFirstListString)
        }

        ul.appendChild(li);

        // localStorage.setItem("entry", textArea.value)
    });

    var myExperiencesString = localStorage.
    getItem('experiences');
    var myExperiences = JSON.parse(myExperiencesString);

    var addExperienceToPage = function(noteText) {
        var li = document.createElement('li');
        li.innerText = noteText;
        ul.appendChild(li);
    };

    myExperiences.forEach(addExperienceToPage);

    


    // var mydiv = document.createElement("div");
    // mydiv.innerText = localStorage.getItem("text")
    // document.body.appendChild(mydiv)
    // mydiv.style.backgroundColor = "white";
    // mydiv.style.opacity = 0.4;
    // });

    var page = document.getElementById("page");
    page.style.backgroundImage = "url(" + localStorage.getItem("backgroundImage") + ")";
    </script>
</body>

</html>

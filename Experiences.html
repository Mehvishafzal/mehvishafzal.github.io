<html id ="A">

<head>
    <link rel="stylesheet" href="Style.css" type="text/css">
</head>
<style>
.content {
    opacity: 0.7;
    background-color: white;
}

.content:first-letter {
    font-size: 7em;
    line-height: 1em;
}
</style>

<body>
    <h1>Experiences</h1>
    <hr />
    <div id="nav">
        <div class="sidebar"></div>
        <ul id="firstlist">
            <li><a href="https://index.html">Home</a></li>
            <li><a href="http://Experiences.html">Experiences</a></li>
            <li><a href="http://Assignments.html">DGMD Class Assignments</a></li>
        </ul>
    </div>
    <textarea id="textArea" style="width:800px; height:400px; position:relative; top:20px; left:20%; opacity:0.4;">
    </textarea>
    <br>
    <button id="submit" type="submit" style="position:relative; top:20px; left:75%;"> Submit
    </button>
    <script type="text/javascript">
    // if the backgroundImage is set in localStorage
    if (localStorage.hasOwnProperty('backgroundImage')) {
        // set the background of the page to 
        var page = document.getElementById("page");

        page.style.backgroundImage = "url(" + localStorage.getItem("backgroundImage") + ")";
    }

    var ul = document.createElement("ul");
    var textDiv = document.createElement("div");
    document.body.appendChild(textDiv);
    textDiv.appendChild(ul);
    textDiv.style.width = "800px";
    textDiv.style.position = "relative";
    textDiv.style.top = "70px";
    textDiv.style.left = "20%";
    textDiv.style.backgroundColor = "white";
    textDiv.style.opacity ="0.5"



    var submit = document.getElementById("submit");
    var textArea = document.getElementById("textArea");



    submit.addEventListener("click", function() {
        var li = document.createElement('li');

        var date = new Date (Date.now());
    var options = {month: "long", weekday:"long", year: "numeric", day: "numeric", };
    var wantedDate = date.toLocaleDateString('en-US', options);


        var note = wantedDate + ' ' + textArea.value;

        li.innerText = note;
        if (localStorage.getItem('experiences')) {
            // get the list
            var myListString = localStorage.getItem('experiences');
            var myList = JSON.parse(myListString);

            // update the list
            myList.push(note);

            // put the list back
            var myNewListString = JSON.stringify(myList);
            localStorage.setItem('experiences', myNewListString);
        } else {
            var myFirstList = [note];
            var myFirstListString = JSON.stringify(myFirstList);
            localStorage.setItem('experiences', myFirstListString)
        }

        ul.appendChild(li);

    });

    var myExperiencesString = localStorage.
    getItem('experiences');
    var myExperiences = JSON.parse(myExperiencesString);

    var addExperienceToPage = function(noteText) {
        var li = document.createElement('li');
        li.innerText = noteText;
        ul.appendChild(li);
    };

    myExperiences.forEach(addExperienceToPage);
    
    </script>
</body>

</html>
